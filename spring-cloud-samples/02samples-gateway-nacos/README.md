# 微服务平台【网关模块】
1、主用于整合【RIBBON、HYSTRIX等组件】
2、主用于请求转发、权限管理、API管理、负载均衡、路断器等功能

【2019-07-18】
新增功能：gateway动态路由配置。
实现原理：
1、添加nacos-config监听器【监听路由配置文件是否变化进行动态路由添加】
2、利用一个定时任务，实时扫描注册中心上的服务列表，实现动态路由添加。【存在时间差导致BUG，定时任务时间间隔内服务无法访问】

服务降级：由于系统资源有限，将资源向比较重要的服务倾斜。【关闭不重要的服务】
服务熔断：请求超时或服务不可用时，直接返回。【避免雪崩效应】

Gateway整合Swagger-API原理
1、它通过动态路由，获取所有注册到网关上面的服务。
2、通过自定义Swagger-Controller，重写相关服务端点【可看源码】，实现所有API集成功能。
3、在网关的swagger-ui界面调用服务API时，是先将请求发送给网关，再由网关决定是否转发。【注意：请求path由各个服务的controller决定，这里需要考虑该请求path是否能够被网关转发】


注： gateway是无法生成自身的api，由于声明api需要用到spring-mvc


【2019-08-05】
Gateway+OAuth2实现不同用户对不同接口的权限控制
1、网关接入所有请求；
2、网关解析请求获取token并根据token获取用户信息【获取URL访问权限；
3、网关解析请求获取URL；
4、判断用户是否有权限访问该URL，达到权限控制目的；